<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Room Info</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-white text-black font-sans">
    <div class="min-h-screen flex flex-col items-center justify-center p-6">
      <form action="" method="post" class="w-full max-w-4xl space-y-8">
        <h1 class="text-center text-3xl font-semibold">
          {{name}} - Available Time
        </h1>
        <h2 class="text-center text-xl">{{capacity}}</h2>

        <div class="flex justify-center">
          <input
            type="date"
            name="date"
            value="{{day}}"
            required
            class="px-4 py-2 border rounded shadow-md focus:outline-none focus:ring-2 focus:ring-green-500"
          />
        </div>

        <div class="text-center">
          <button
            id="search"
            type="submit"
            name="click"
            value="date"
            class="px-6 py-3 bg-green-600 text-white rounded hover:bg-green-700 transition duration-300"
          >
            Search
          </button>
        </div>

        <!-- Available Times Table -->
        <div class="overflow-x-auto mt-8">
          <table class="w-full table-auto border-collapse text-center">
            <thead>
              <tr>
                <th class="px-4 py-2 border-b">Start time</th>
                <th class="px-4 py-2 border-b">End time</th>
                <th class="px-4 py-2 border-b"></th>
              </tr>
            </thead>
            <tbody>
              {% for time in available_times: %}
              <tr>
                <td class="px-4 py-2 border-b">{{time[0]}}</td>
                <td class="px-4 py-2 border-b">{{time[1]}}</td>
                <td class="px-4 py-2 border-b">
                  <button
                    id="book"
                    type="submit"
                    name="click"
                    value="book-{{ time[0] }}-{{ time[1] }}"
                    class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition duration-300"
                  >
                    Book
                  </button>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Response Message -->
        <div class="text-center mt-4 text-lg font-medium">{{response}}</div>

        <!-- Action Buttons -->
        <div class="mt-8 text-center space-x-4">
          <button
            id="return"
            type="submit"
            name="click"
            value="return"
            formnovalidate
            class="px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition duration-300"
          >
            Choose another room
          </button>
          <button
            id="waiting_list"
            type="submit"
            name="click"
            value="waiting list"
            formnovalidate
            class="px-6 py-3 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition duration-300"
          >
            Go to waiting list
          </button>
        </div>
      </form>
    </div>
  </body>
</html>
